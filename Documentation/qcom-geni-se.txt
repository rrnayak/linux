Introduction
============

Generic Interface (GENI) Serial Engine (SE) Wrapper driver is introduced
to manage GENI firmware based Qualcomm Universal Peripheral (QUP) Wrapper
controller. QUP Wrapper is designed to support various serial bus protocols
like UART, SPI, I2C, I3C, etc.

Hardware description
====================

GENI based QUP is a highly-flexible and programmable module for supporting
a wide range of serial interfaces like UART, SPI, I2C, I3C, etc. A single
QUP module can provide upto 8 Serial Interfaces, using its internal
Serial Engines. The actual configuration is determined by the target
platform configuration. The protocol supported by each interface is
determined by the firmware loaded to the Serial Engine. Each SE consists
of a DMA Engine and GENI sub modules which enable Serial Engines to
support FIFO and DMA modes of operation.

::

                      +-----------------------------------------+
                      |QUP Wrapper                              |
                      |         +----------------------------+  |
   --QUP & SE Clocks-->         | Serial Engine N            |  +-IO------>
                      |         | ...                        |  | Interface
   <---Clock Perf.----+    +----+-----------------------+    |  |
     State Interface  |    | Serial Engine 1            |    |  |
                      |    |                            |    |  |
                      |    |                            |    |  |
   <--------AHB------->    |                            |    |  |
                      |    |                            +----+  |
                      |    |                            |       |
                      |    |                            |       |
   <------SE IRQ------+    +----------------------------+       |
                      |                                         |
                      +-----------------------------------------+

                         Figure 1: GENI based QUP Wrapper

Software description
====================

GENI SE Wrapper driver is structured into 2 parts:

geni_se_device represents QUP Wrapper controller. This part of the driver
manages QUP Wrapper information such as hardware version, clock
performance table that is common to all the internal Serial Engines.

geni_se_rsc represents Serial Engine. This part of the driver manages
Serial Engine information such as clocks, pinctrl states, containing QUP
Wrapper. This part of driver also supports operations(eg. initialize the
concerned Serial Engine, select between FIFO and DMA mode of operation etc.)
that are common to all the Serial Engines and are independent of Serial
Interfaces.
